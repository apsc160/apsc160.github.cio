<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <link href="../css/style.css" rel="stylesheet" type="text/css" />
  <link href="../css/verdana.css" rel="stylesheet" type="text/css" />
  <link href="../css/prism-vs.css" rel="stylesheet" type="text/css" />
  <title>Worksheet Exercises</title>
</head>

<body>
  <section id="wrap">
    <div id="sideContainer">
      <div id="logoContainer"><img style="width: 164px; height: 44px;" alt="UBC Logo" src="../images/ubcLogoWhite.png" /></div>
      <div id="navContainer">
        <div id="nav">
          <nav>
						<ul>
							<li id="navHeader_1"><a id="navLink_1" href="./arduino.html">Arduino Intro</a></li>
						</ul>
						<ul>
							<li id="navHeader_2" ><a id="navLink_2" href="./exercises.html">Exercises</a></li>
							<li id="navHeader_3" ><a id="navLink_3" href="./controlLEDs.html">controlLEDs</a></li>
							<li id="navHeader_4" ><a id="navLink_4" href="./writeNumber.html">writeNumber</a></li>
							<li id="navHeader_5" ><a id="navLink_5" href="./rotateLEDs.html">rotateLEDs</a></li>
							<li id="navHeader_6" ><a id="navLink_6" href="./traffic.html">traffic</a></li>
							<li id="navHeader_7" ><a id="navLink_7" href="./analog.html">analog</a></li>
							<li id="navHeader_8" class="selected"><a id="navLink_8" href="./thermostat.html">thermostat</a></li>
						</ul>
          </nav>
        </div>
      </div>
    </div>
    <div id="association">
      <h1 id="title">Worksheet Exercises</h1>
      <div id="wrapper">
        <div id="tabContainer">
          <div id="tabs">
            <ul>
              <li id="tabHeader_1">thermostat</li>
            </ul>
          </div>
          <div id="tabscontent">
            <div class="tabpage" id="tabpage_1">
							<h3>Task</h3>
							We are going to create a thermostat that will read the current
							temperature and turn on a heater if it is below a threshold.
							Unlike the DAQ version of the	program, we will add a potentiometer
							and <em>set</em> button to allow	dynamic setting of the desired temperature.

							<img class="figure" alt="arduino hardware" src="./img/arduino_thermostat_set.jpg" />
							<img class="figure" alt="arduino hardware" src="./img/arduino_thermostat_on.jpg" />
							<img class="figure" alt="arduino hardware" src="./img/arduino_thermostat_off.jpg" />

							<h3><a name="hardware">Hardware Setup</a></h3>
							<p>
								The hardware setup is outlined as below:
							</p>
							<img class="figure" alt="hardware layout" src="./img/apsc160_thermostat.png" />

							Fritzing schematic: <a href="./assets/apsc160_thermostat.fzz">apsc160_thermostat.fzz</a>
							<br/><br/>

							<table>
								<tr><th>Component</th><th>Count</th></tr>
								<tr><td style="text-align:left;">Full Size Breadboard</td><td style="text-align:center;">1</td></tr>
								<tr><td style="text-align:left;">Rotary Potentiometer (approx. 10 kOhm, Linear)</td><td style="text-align:center;">1</td></tr>
								<tr><td style="text-align:left;">Temperature Sensor (TMP36 or LM35)</td><td style="text-align:center;">1</td></tr>
								<tr><td style="text-align:left;">Slide DIP Switch (2 or 4 positions)</td><td style="text-align:center;">1</td></tr>
								<tr><td style="text-align:left;">Tactile Switch</td><td style="text-align:center;">1</td></tr>
								<tr><td style="text-align:left;">LED (5 mm Round)</td><td style="text-align:center;">1</td></tr>
								<tr><td style="text-align:left;">Shift Register (74HC595, 14-DIP)</td><td style="text-align:center;">2</td></tr>
								<tr><td style="text-align:left;">4 digit 7-Segment LED Clock Display (Common Anode)</td><td style="text-align:center;">2</td></tr>
								<tr><td style="text-align:left;">220 Ohm Resistor</td><td style="text-align:center;">9</td></tr>
								<tr><td style="text-align:left;">10 kOhm Resistor</td><td style="text-align:center;">2</td></tr>
							</table>
							<br/><br/>

							<h3>Software Implementation</h3>

							<p>
								See the exercise on <a href="./analog.html">analog</a> for temperature
								conversion information.  For the thermostat dial (potentiometer), we
								linearly interpolate between two temperatures, <code>MIN_TEMPERATURE_SETTING</code>
								and <code>MAX_TEMPERATURE_SETTING</code>.
							</p>
							<p>
								For this program, we provide a library to handle the <code>displayWrite(...)</code>
								functionality, since this is not part of the Arduino API.  This library assumes
								the exact hardware configuration as given in the <a href="#hardware">Hardware Setup</a>
								above.
							</p>
							<ul>
								<li>Header: <a href="./src/DisplayWrite.h">DisplayWrite.h</a></li>
								<li>Implementation: <a href="./src/DisplayWrite.c">DisplayWrite.c</a></li>
							</ul>
							<p>
								To add these files to your program in the Arduino IDE, download
								them somewhere known on your computer, and go to "Sketch > Add File..."
								and select both files.
								In Visual Studio with Visual Micro, right-click
								on the project and select "Add > Existing Item..." to add the
								both the header and source files.
							</p>

							<a href="./src/thermostat.ino">thermostat.ino</a><br/>
							<pre class="language-c" data-src="./src/thermostat.ino"></pre>
						</div>
					</div>
        </div>
      </div>
    </div>
  </section>
  <script src="../js/tabs_old.js"></script>
  <script src="../js/prism.max.js"></script>
  <script src="../js/jquery.min.js"></script>
</body>

</html>
